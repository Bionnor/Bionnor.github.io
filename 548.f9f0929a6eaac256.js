"use strict";(self.webpackChunkflora=self.webpackChunkflora||[]).push([[548],{548:(Q,_,s)=>{s.r(_),s.d(_,{AuthModule:()=>M});var y=s(6895),m=s(3035),e=s(4650),n=s(4006),b=s(6518),Z=s(7185),q=s(6989);let w=(()=>{class r{constructor(t){this.toastr=t}handleError(t){let o="An unknown error occurred";o=t.error instanceof ErrorEvent?`Error: ${t.error.message}`:`Error Code: ${t.status}\nMessage: ${t.message}`,this.toastr.error(o,"Error")}handleHttpErrorStatus(t){switch(t.status){case 400:this.toastr.warning("Bad Request","Error");break;case 401:this.toastr.warning("Unauthorized","Error");break;case 404:this.toastr.warning("Not Found","Error");break;case 500:this.toastr.error("Internal Server Error","Error");break;default:this.handleError(t)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Z._W))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),T=(()=>{class r{constructor(t,o,l,a,u,d){this.fb=t,this.authService=o,this.toastrService=l,this.router=a,this.Token=u,this.errorHandlingService=d}ngOnInit(){this.formLogin=this.fb.group({email:this.fb.control(""),password:this.fb.control("")})}handleLogin(){this.authService.login(this.formLogin.value).subscribe({next:t=>{console.log("Token:",t.accessToken),console.log("Refresh Token:",t.token),this.Token.handle(t.accessToken,t.token),this.toastrService.success("Logged in successfully"),this.router.navigateByUrl("/home")},error:t=>{console.log(t),this.toastrService.error("Login failed")}})}handleResponse(t){this.Token.handle(t.accessToken,t.token),this.authService.changeAuthStatus(!0),this.router.navigateByUrl("/")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.qu),e.Y36(b.e),e.Y36(Z._W),e.Y36(m.F0),e.Y36(q.B),e.Y36(w))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:38,vars:1,consts:[["id","content",1,"wrapper","layout-page"],[1,"pb-lg-20","pb-16"],[1,"container"],[1,"text-center","pt-13","mb-12","mb-lg-15"],[1,"text-center"],[1,"fs-36px","mb-11","mb-lg-14"],[1,"row","no-gutters"],[1,"col-lg-10","mx-auto"],[1,"col-lg-6","ps-lg-6","ps-xl-12"],["src","./assets/images/others/flora.png","width","300","alt","Flora"],[1,"fs-4","mb-8"],[1,"mb-8"],[1,"col-lg-6","mb-15","mb-lg-0","pe-xl-2"],[1,"fs-4","mb-10"],[1,"",3,"formGroup","ngSubmit"],[1,"form-group","mb-6"],[1,"visually-hidden"],["type","text","name","email","formControlName","email","placeholder","Username",1,"form-control"],["type","password","name","password","placeholder","Password","formControlName","password",1,"form-control"],["href","#",1,"d-inline-block","fs-15","lh-12","mb-7"],["type","submit",1,"btn","btn-outline-black","w-100","mb-7"],[1,"form-check","mb-7","d-flex"],["type","checkbox","id","customCheck1","name","remember",1,"form-check-input","rounded-0"],["for","customCheck1",1,"form-check-label","fs-15","ps-4","text-body-emphasis"],["routerLink","/auth/register",1,"btn","btn-outline-black"]],template:function(t,o){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6,"My Account"),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",6)(10,"div",8),e._UZ(11,"img",9),e.TgZ(12,"h3",10),e._uU(13,"New Customer"),e.qZA(),e.TgZ(14,"p",11),e._uU(15,"By creating an account with our store, you will be able to move through the checkout process faster, store multiple shipping addresses, view and track your orders in your account and more."),e.qZA()(),e.TgZ(16,"div",12)(17,"h3",13),e._uU(18,"Log In"),e.qZA(),e.TgZ(19,"form",14),e.NdJ("ngSubmit",function(){return o.handleLogin()}),e.TgZ(20,"div",15)(21,"label",16),e._uU(22,"username"),e.qZA(),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"div",15)(25,"label",16),e._uU(26,"Password"),e.qZA(),e._UZ(27,"input",18),e.qZA(),e.TgZ(28,"a",19),e._uU(29,"Forgot your password?"),e.qZA(),e.TgZ(30,"button",20),e._uU(31,"Submit"),e.qZA(),e.TgZ(32,"div",21),e._UZ(33,"input",22),e.TgZ(34,"label",23),e._uU(35,"Keep me signed in."),e.qZA()(),e.TgZ(36,"a",24),e._uU(37,"Register"),e.qZA()()()()()()()()()),2&t&&(e.xp6(19),e.Q6J("formGroup",o.formLogin))},dependencies:[m.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),r})();const A=r=>{const i=r.get("password"),t=r.get("retypePassword");return i&&t&&i.value!==t.value?{passwordMismatch:!0}:null};function F(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," First name is required. "),e.qZA())}function k(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Last name is required. "),e.qZA())}function S(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Username is required. "),e.qZA())}function C(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Please enter a valid email address. "),e.qZA())}function N(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Password must be at least 6 characters. "),e.qZA())}function P(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Please retype your password. "),e.qZA())}function I(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Passwords do not match. "),e.qZA())}function x(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Phone is required. "),e.qZA())}function Y(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Please select your gender. "),e.qZA())}function L(r,i){1&r&&(e.TgZ(0,"div",47),e._uU(1," Please agree to the terms and privacy policy. "),e.qZA())}let U=(()=>{class r{constructor(t,o,l,a){this.fb=t,this.authService=o,this.toastrService=l,this.router=a}ngOnInit(){this.registrationForm=this.fb.group({firstName:["",n.kI.required],lastName:["",n.kI.required],username:["",n.kI.required],phone:["",n.kI.required],sexe:[!0,n.kI.required],email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.minLength(6)]],retypePassword:["",n.kI.required],agree:[!1,n.kI.requiredTrue]},{validators:A})}register(){this.registrationForm.valid?this.authService.register(this.registrationForm.value).subscribe(t=>{t?(this.toastrService.success("Registered successfully"),this.router.navigateByUrl("/auth/login")):this.toastrService.error("Registration failed")}):this.toastrService.error("Please fill in the required fields correctly.")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.qu),e.Y36(b.e),e.Y36(Z._W),e.Y36(m.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-signup"]],decls:86,vars:11,consts:[["id","content",1,"wrapper","layout-page"],[1,"pb-lg-20","pb-16"],[1,"container"],[1,"text-center","pt-13","mb-12","mb-lg-15"],[1,"text-center"],[1,"fs-36px","mb-11","mb-lg-14"],[1,"row","no-gutters"],[1,"col-lg-10","mx-auto"],[1,"col-lg-6","ps-lg-6","ps-xl-12"],["src","./assets/images/others/flora.png","width","300","alt","Flora"],[1,"fs-4","mb-8"],[1,"mb-8"],[1,"col-lg-5","col-md-8","mx-auto"],[3,"formGroup","ngSubmit"],[1,"row","mb-6"],[1,"col-md-6","mb-3"],["for","first_name",1,"visually-hidden"],["formControlName","firstName","id","first_name","type","text","placeholder","First name","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","last_name",1,"visually-hidden"],["formControlName","lastName","id","last_name","type","text","placeholder","Last name","required","",1,"form-control"],[1,"mb-7"],["for","username",1,"visually-hidden"],["formControlName","username","id","username","type","text","placeholder","Username","required","",1,"form-control"],[1,"mb-6"],["for","email",1,"visually-hidden"],["formControlName","email","id","email","type","email","placeholder","Your email","required","",1,"form-control"],["for","password",1,"visually-hidden"],["formControlName","password","id","password","type","password","placeholder","Password","required","",1,"form-control"],["for","retypePassword",1,"visually-hidden"],["formControlName","retypePassword","id","retypePassword","type","password","placeholder","Retype Password","required","",1,"form-control"],["for","phone",1,"visually-hidden"],["formControlName","phone","id","phone","type","phone","placeholder","Phone",1,"form-control"],[1,"form-check-label"],[1,"form-check","form-check-inline"],["formControlName","sexe","name","sexe","type","radio","value","true",1,"form-check-input"],["formControlName","sexe","name","sexe","type","radio","value","false",1,"form-check-input"],[1,"form-check","mb-7"],["formControlName","agree","id","agree_terms","type","checkbox",1,"form-check-input","rounded-0"],["for","agree_terms",1,"form-check-label","text-secondary"],["href","#",1,"text-decoration-underline"],["type","submit",1,"btn","btn-primary","w-100"],[1,"border-bottom","mt-10"],[1,"text-center","mt-n4","lh-1","mb-7"],[1,"fs-14","bg-body","lh-1","px-4"],[1,"d-flex"],["routerLink","/auth/login",1,"text-secondary"],[1,"text-danger"]],template:function(t,o){if(1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6,"Create account"),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",6)(10,"div",8),e._UZ(11,"img",9),e.TgZ(12,"h3",10),e._uU(13,"New Customer"),e.qZA(),e.TgZ(14,"p",11),e._uU(15,"By creating an account with our store, you will be able to move through the checkout process faster, store multiple shipping addresses, view and track your orders in your account and more."),e.qZA()(),e.TgZ(16,"div",12)(17,"form",13),e.NdJ("ngSubmit",function(){return o.register()}),e.TgZ(18,"div",14)(19,"div",15)(20,"label",16),e._uU(21,"Firstname"),e.qZA(),e._UZ(22,"input",17),e.YNc(23,F,2,0,"div",18),e.qZA(),e.TgZ(24,"div",15)(25,"label",19),e._uU(26,"Last name"),e.qZA(),e._UZ(27,"input",20),e.YNc(28,k,2,0,"div",18),e.qZA()(),e.TgZ(29,"div",21)(30,"label",22),e._uU(31,"Username"),e.qZA(),e._UZ(32,"input",23),e.YNc(33,S,2,0,"div",18),e.qZA(),e.TgZ(34,"div",24)(35,"label",25),e._uU(36,"Email address"),e.qZA(),e._UZ(37,"input",26),e.YNc(38,C,2,0,"div",18),e.qZA(),e.TgZ(39,"div",21)(40,"label",27),e._uU(41,"Password"),e.qZA(),e._UZ(42,"input",28),e.YNc(43,N,2,0,"div",18),e.qZA(),e.TgZ(44,"div",21)(45,"label",29),e._uU(46,"Retype Password"),e.qZA(),e._UZ(47,"input",30),e.YNc(48,P,2,0,"div",18),e.YNc(49,I,2,0,"div",18),e.qZA(),e.TgZ(50,"div",21)(51,"label",31),e._uU(52,"Phone"),e.qZA(),e._UZ(53,"input",32),e.YNc(54,x,2,0,"div",18),e.qZA(),e.TgZ(55,"div",21)(56,"label",33),e._uU(57,"Gender: "),e.qZA(),e.TgZ(58,"div",34),e._UZ(59,"input",35),e.TgZ(60,"label",33),e._uU(61,"Male"),e.qZA()(),e.TgZ(62,"div",34),e._UZ(63,"input",36),e.TgZ(64,"label",33),e._uU(65,"Female"),e.qZA()(),e.YNc(66,Y,2,0,"div",18),e.qZA(),e.TgZ(67,"div",37),e._UZ(68,"input",38),e.TgZ(69,"label",39),e._uU(70," Yes, I agree with Grace "),e.TgZ(71,"a",40),e._uU(72,"Privacy Policy"),e.qZA(),e._uU(73," and "),e.TgZ(74,"a",40),e._uU(75,"Terms of Use"),e.qZA()(),e.YNc(76,L,2,0,"div",18),e.qZA(),e.TgZ(77,"button",41),e._uU(78,"Sign Up"),e.qZA(),e._UZ(79,"div",42),e.TgZ(80,"div",43)(81,"span",44),e._uU(82,"or Sign Up"),e.qZA()(),e.TgZ(83,"div",45)(84,"a",46),e._uU(85,"if you already have an account, you can login here"),e.qZA()()()()()()()()()()),2&t){let l,a,u,d,g,p,v,c,h,f;e.xp6(17),e.Q6J("formGroup",o.registrationForm),e.xp6(6),e.Q6J("ngIf",(null==(l=o.registrationForm.get("firstName"))?null:l.invalid)&&((null==(l=o.registrationForm.get("firstName"))?null:l.dirty)||(null==(l=o.registrationForm.get("firstName"))?null:l.touched))),e.xp6(5),e.Q6J("ngIf",(null==(a=o.registrationForm.get("lastName"))?null:a.invalid)&&((null==(a=o.registrationForm.get("lastName"))?null:a.dirty)||(null==(a=o.registrationForm.get("lastName"))?null:a.touched))),e.xp6(5),e.Q6J("ngIf",(null==(u=o.registrationForm.get("username"))?null:u.invalid)&&((null==(u=o.registrationForm.get("username"))?null:u.dirty)||(null==(u=o.registrationForm.get("username"))?null:u.touched))),e.xp6(5),e.Q6J("ngIf",(null==(d=o.registrationForm.get("email"))?null:d.invalid)&&((null==(d=o.registrationForm.get("email"))?null:d.dirty)||(null==(d=o.registrationForm.get("email"))?null:d.touched))),e.xp6(5),e.Q6J("ngIf",(null==(g=o.registrationForm.get("password"))?null:g.invalid)&&((null==(g=o.registrationForm.get("password"))?null:g.dirty)||(null==(g=o.registrationForm.get("password"))?null:g.touched))),e.xp6(5),e.Q6J("ngIf",(null==(p=o.registrationForm.get("retypePassword"))?null:p.invalid)&&((null==(p=o.registrationForm.get("retypePassword"))?null:p.dirty)||(null==(p=o.registrationForm.get("retypePassword"))?null:p.touched))),e.xp6(1),e.Q6J("ngIf",o.registrationForm.hasError("passwordMismatch")&&((null==(v=o.registrationForm.get("retypePassword"))?null:v.dirty)||(null==(v=o.registrationForm.get("retypePassword"))?null:v.touched))),e.xp6(5),e.Q6J("ngIf",(null==(c=o.registrationForm.get("phone"))?null:c.invalid)&&((null==(c=o.registrationForm.get("phone"))?null:c.dirty)||(null==(c=o.registrationForm.get("phone"))?null:c.touched))),e.xp6(12),e.Q6J("ngIf",(null==(h=o.registrationForm.get("sexe"))?null:h.invalid)&&((null==(h=o.registrationForm.get("sexe"))?null:h.dirty)||(null==(h=o.registrationForm.get("sexe"))?null:h.touched))),e.xp6(10),e.Q6J("ngIf",(null==(f=o.registrationForm.get("agree"))?null:f.invalid)&&((null==(f=o.registrationForm.get("agree"))?null:f.dirty)||(null==(f=o.registrationForm.get("agree"))?null:f.touched)))}},dependencies:[y.O5,m.rH,n._Y,n.Fj,n.Wl,n._,n.JJ,n.JL,n.Q7,n.sg,n.u]}),r})();const J=[{path:"",component:T,children:[{path:"login",component:T}]},{path:"register",component:U,children:[{path:"signup",component:U}]}];let E=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.Bz.forChild(J),m.Bz]}),r})(),M=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[y.ez,E,n.UX]}),r})()}}]);